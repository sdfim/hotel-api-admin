<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Modules\API\Controllers\ApiHandlers\ContentSuppliers\ExpediaHotelController;
use Illuminate\Support\Facades\DB;
use Modules\API\Suppliers\ExpediaSupplier\ExpediaService;

class TestSpeedDbCommand extends Command
{
    use BaseTrait;

    /**
     * @var string
     */
    protected $signature = 'test-speed-db';
    /**
     * @var string
     */
    protected $description = 'Command description';
    /**
     * @var ExpediaService
     */
    protected ExpediaService $expediaService;

    /**
     * @param ExpediaService $expediaService
     */
    public function __construct(ExpediaService $expediaService)
    {
        parent::__construct();
        $this->expediaService = $expediaService;
    }

    /**
     * @return void
     */
    public function handle(): void
    {
        $this->info('TestSpeedDbCommand DB');

        $this->current_time['start'] = microtime(true);

        $queryGiata = DB::select("
			select * from  ujv_api.giata_properties  order by  ujv_api.giata_properties.code  asc limit 10 offset 0
        ");

        $this->info('query for view table Giata: ' . $this->executionTime('start') . ' sec');

        $queryExpedia = DB::select("
			select * from  ujv_api.expedia_content_main  order by  rating  desc ,  ujv_api.expedia_content_main.property_id  asc limit 10 offset 0
        ");

        $this->info('query for view table Expedia: ' . $this->executionTime('start') . ' sec');

        $this->current_time['main-search'] = microtime(true);

        $querySearchMain1 = DB::select("
			select ujv_api.expedia_content_main.* , ujv_api.expedia_content_slave.images as images , ujv_api.expedia_content_slave.amenities as amenities , ujv_api.mapper_expedia_giatas.expedia_id , ujv_api.mapper_expedia_giatas.giata_id from ujv_api.expedia_content_main left join ujv_api.expedia_content_slave on ujv_api.expedia_content_slave.expedia_property_id = ujv_api.expedia_content_main.property_id left join ujv_api.mapper_expedia_giatas on ujv_api.mapper_expedia_giatas.expedia_id = ujv_api.expedia_content_main.property_id where property_id in ( 888905 , 201087 , 185154 , 44828 , 414605 , 909199 , 12151 , 17324302 , 22663501 , 1169045 , 6528818 , 16344076 , 789751 , 25532 , 25416 , 17234 , 421225 , 48246 , 53593 , 1545249 , 2692721 , 994215 , 53589 , 29464319 , 11764176 , 3006128 , 919451 , 2523434 , 12049 , 26733 , 27958 , 8199002 , 89427194 , 2803985 , 11735534 , 21333453 , 7880931 , 70501138 , 973844 , 1449465 , 1328683 , 1144598 , 561982 , 1172208 , 4460443 , 1244 , 1601059 , 11763601 , 3634265 , 1889 , 56560263 , 17683982 , 13442171 , 1166036 , 967265 , 2522122 , 70501138 , 1520444 , 564911 , 14832 , 329954 , 24011 , 561983 , 44711 , 1150135 , 8090711 , 891407 , 63898 , 3124202 , 7132 , 18581 , 90741595 , 84207 , 6584744 , 1091701 , 889190 , 3673089 , 6452041 , 1431219 , 10516568 , 4955841 , 7153677 , 1829056 , 4460443 , 20051 , 1446012 , 1468 , 564950 , 22785026 , 5951861 , 74817857 , 1375688 , 89589494 , 53566 , 558097 , 564956 , 24759 , 20931 , 106606 , 1169199 , 90741595 , 25416 , 994347 , 6422260 , 11254 , 4058160 , 15814 , 525529 , 2523917 , 39815044 , 5494690 , 23810 , 12567062 , 908689 , 8089748 , 809361 , 565104 , 10992704 , 16116822 , 3111786 , 5259220 , 565643 , 2689021 , 2546603 , 564481 , 23065994 , 1140512 , 21972 , 6116 , 486277 , 15148116 , 44857 , 15969 , 1383362 , 48247 , 6901 , 22647935 , 4456196 , 53524 , 63340 , 81652 , 2628 , 1169529 , 564940 , 63326 , 26885302 , 27154 , 10872 , 562005 , 81753 , 565297 , 12717 , 119356 , 17013 , 2522199 , 2685881 , 1451463 , 12066993 , 1248348 , 9827286 , 66179152 , 1453644 , 1498511 , 75226799 , 14777624 , 859852 , 5924800 , 517154 , 74262305 , 76837559 , 26415 , 1214772 , 24549 , 3124204 , 11096 , 1350813 , 83096 , 919451 , 1133688 , 12429565 , 1144564 , 16061517 , 4478908 , 10625 , 17710418 , 1062907 , 1249 , 22785 , 53583 , 1276 , 560198 , 560199 , 115063 , 14862 , 565710 , 1495154 , 119376 , 34180 , 562003 , 7614251 , 5055735 , 44833 , 525040 , 4478950 , 26651 , 83104 , 90885959 , 31804333 , 6309224 , 19074687 , 4479 , 822 , 1637283 , 1411864 , 2855106 , 447033 , 1184089 , 12772532 , 4267496 , 522821 , 53524 , 1367360 , 11467594 , 197550 , 20955 , 18663 , 17038 , 8103630 , 2685982 , 2523309 , 1166020 , 3644167 , 69359050 , 526635 , 1273955 , 903609 , 2105 , 15805325 , 564924 , 1103801 , 5688320 , 1769077 , 8290864 , 22772 , 1072848 , 457360 , 44843 , 19682 , 19614 , 12835 , 517063 , 1601061 , 2690948 , 1190989 , 891932 , 447017 , 84209 , 562423 , 2522139 , 18083172 , 565554 , 14630329 , 898175 , 573476 , 44849 , 67430998 , 414462 , 11620624 , 1177541 , 1082336 , 21313353 , 1768291 , 2824859 , 4916865 , 9718872 , 83103 , 556455 , 1542875 , 1062937 , 6544282 , 5535557 , 3389 , 901201 , 1150160 , 421225 , 11730 , 578608 , 53572 , 913994 , 15486 , 64926 , 27541871 , 661848 , 2156323 , 12067080 , 33676209 , 4130483 , 27977 , 2685880 , 6417623 , 11097025 , 1542853 , 18784 , 14763306 , 74422006 , 42630812 , 58919400 , 3137 , 53535 , 11906978 , 419165 , 27528 , 34071 , 870400 , 83107 , 2580 , 9541968 , 6914689 , 11772 , 188482 , 6887 , 7439856 , 1223409 , 27375 , 125775 , 1200027 , 14788 , 18558 , 1545283 , 909876 , 1382123 , 2432894 , 9541968 , 441665 , 8164964 , 561997 , 92811161 , 3309 , 15775 , 20141640 , 184557 , 7714547 , 44807 , 15611 , 433421 , 565646 , 2905 , 1431219 , 16116921 , 1417342 , 564932 , 7552 , 23034 , 70983647 , 1723407 , 1471851 , 1876538 , 24786 , 15386089 , 1500975 , 1603419 , 2431617 , 17792066 , 1098400 , 1273946 , 525269 , 2522171 , 4289 , 2687249 , 7132 , 12552752 , 10467343 , 9619719 , 1166024 , 53484 , 83097 , 1712688 , 63912 , 562186 , 16586758 , 4620965 , 3644034 , 12683 , 7579402 , 17234 , 106681 , 53561 , 907913 , 63308 , 12877 , 48251 , 526631 , 107886 , 18023637 , 1867016 , 874615 , 182182 , 15637 , 565590 , 22632950 , 2521505 , 18538371 , 8263353 , 83098 , 1169595 , 19747 , 1872 , 1500975 , 7451497 , 82954447 , 2687369 , 14738 , 1194 , 560207 , 10992704 , 13188 , 53598 , 5096 , 565122 , 691190 , 25416 , 189601 , 2369616 , 83095 , 1159701 , 92811161 , 884901 , 1276 , 1362 , 14770965 , 10369036 , 15233206 , 916831 , 5205825 , 70501138 , 562002 , 1450480 , 615332 , 90741595 , 17754301 , 1117 , 25416 , 83643951 , 53532 , 891933 , 26761 , 2707145 , 25554 , 16973 , 564660 , 993018 , 9621556 , 2784952 , 1308259 , 1312493 , 44850 , 8539 , 6066034 , 558560 , 27241 , 3952880 , 92811161 , 2279585 , 893975 , 1160407 , 10116304 , 1880326 , 14771489 , 8745 , 562175 , 17016 , 4208542 , 4668621 , 901150 , 44738 , 1390 , 1396 , 15333594 , 10938 , 13246 , 12604991 , 2523402 , 36307388 , 8108005 , 23089229 , 37025921 , 112247 , 3050968 , 11996771 , 53580 , 901149 , 2686010 , 26587037 , 2520459 , 1339863 , 2883291 , 970888 , 1064534 , 5251 , 83022 , 16047 , 9269598 , 970936 , 63305 , 1221314 , 889936 , 13330374 , 106600 , 12508516 , 565694 , 71593758 , 5806325 , 565621 , 11742555 , 119448 , 565119 , 564892 , 15030 , 83134 , 110086 , 794330 , 16363263 , 184548 , 83126 , 36172804 , 906106 , 34787606 , 2010815 , 1000780 , 8013591 , 81702 , 11247 , 1583157 , 2499092 , 4817101 , 14642 , 53487 , 19884 , 14770827 , 1042503 , 13006 , 5813590 , 1542902 , 891394 , 8444782 , 1382392 , 16280516 , 2499092 , 34186 , 18032318 , 561980 , 2784952 , 890094 , 64872 , 1086808 , 68493 , 3657327 , 565113 , 425236 , 53525 , 63881 , 562024 , 22647935 , 565256 , 13182 , 15510797 , 189675 , 1615638 , 5987457 , 1382404 , 899321 , 8965758 , 8571 , 34201 , 18642828 , 68512 , 973411 , 7510766 , 607137 , 8804655 , 796679 , 44864 , 174854 , 106604 , 562453 , 55603346 , 2523943 , 34212 , 788023 , 1853451 , 2543392 , 2784952 , 877036 , 28507 , 90301901 , 519445 , 174823 , 889136 , 57007492 , 7368 , 68490 , 4623089 , 106609 , 1150128 , 8151984 , 891081 , 526523 , 526642 , 2933817 , 1395216 , 560197 , 664709 , 562160 , 83058 , 455107 , 517050 , 4440053 , 548343 , 19155902 , 17375524 , 17402492 , 8931 , 562164 , 6716425 , 25416 , 1262 , 190484 , 2149087 , 11751238 , 25416 , 4274800 , 910926 , 1144544 , 6318066 , 565308 , 447028 , 84206 , 89993005 , 1101875 , 897206 , 83102 , 1586751 , 421225 , 38705288 , 20495 , 6468130 , 565110 , 23124 , 1178071 , 63879 , 421225 , 68517 , 13101729 , 564952 , 28825369 , 2007700 , 34484 , 1226699 , 201121 , 1568520 , 41913079 , 1166023 , 1214772 , 12740005 , 522512 , 175063 , 22909 , 90741595 , 2523435 , 26887 , 106607 , 74120228 , 517064 , 4562778 , 18172870 , 8254395 , 864201 , 1251788 , 470866 , 565561 , 10369462 , 16599855 , 1314926 , 48211 , 4140609 , 1500975 , 1845330 , 12815755 , 564940 , 5464 , 2002 , 1405292 , 888903 , 2523311 , 564940 , 8972 , 2522174 , 8842016 , 1603416 , 62984874 , 1171303 , 2571854 , 53483 , 53555 , 53586 , 115052 , 12151 , 564940 , 2534803 , 1486880 , 565256 , 83141 , 54961 , 22470 , 79393779 , 39186206 , 5816 , 564940 , 564947 , 20073 , 10741 , 1542855 , 19631718 , 49327 , 11741259 , 7673 , 2241 , 2523066 , 1337848 , 1431219 , 6456398 , 22944432 , 1191399 , 11749 , 525824 , 906254 , 24295324 , 25260 , 20069 , 1489 , 2193319 , 25168 , 1446012 , 92811161 , 45586214 , 11736430 , 11958844 , 1144600 , 1133645 , 8225442 , 866446 , 4096 , 18258099 , 11837701 , 2179 , 2523426 , 83410266 , 1190989 , 1382741 , 12604991 , 1916079 , 14771449 , 115029 , 7382160 , 190461 , 14721 , 44847 , 83041 , 565628 , 1285 , 74092581 , 1753858 , 564897 , 558011 , 1838960 , 63336 , 1160380 , 12898 , 2521624 , 1382488 , 1840967 , 915692 , 564940 , 1304233 , 6454 , 44729 , 14807 , 22724 , 9972 , 3030694 , 8408667 , 8240437 , 19489 , 20248319 , 2523701 , 115101 , 82521939 , 1368 , 797166 , 6230998 , 8364073 , 894743 , 25416 , 2185160 , 558425 , 981059 , 106605 , 65171 , 14115 , 12679 , 1609499 , 659925 , 4327633 , 83029 , 1107461 , 11355 , 7621130 , 2535479 , 2499092 , 68523 , 20697 , 66157 , 11740677 , 3743565 , 53581 , 11959576 , 2523375 , 40445218 , 17710635 , 880235 , 63906 , 565591 , 1276 , 1314918 , 26587037 , 562165 , 868 , 95773568 , 874322 , 34218 , 894821 , 688194 , 582844 , 4086 , 1301 , 565300 , 1390 , 1396 , 11500287 , 1382678 , 3547614 , 1150136 , 9732 , 562399 , 891651 , 419149 , 2539588 , 53512 , 13505949 , 14582 , 42693045 , 15606948 , 11465813 , 13538 , 10040266 , 11763129 , 189871 , 53556 , 2522237 , 25530 , 565250 , 33718890 , 64994 , 981058 , 5278 , 3117356 , 14820301 , 27836753 , 1399823 , 17471679 , 1633756 , 574840 , 11265 , 2172825 , 1682992 , 1387065 , 65168 , 7526 , 1431219 , 13700 , 6436774 , 15787 , 5195936 , 848390 , 1431219 , 1276 , 58323249 , 221325 , 552203 , 10640 , 66022815 , 5293507 , 11677 , 1431219 , 4655347 , 8250159 , 525086 , 10680 , 83410266 , 2521578 , 44712 , 3077453 , 526523 , 64872 , 17333 , 48527358 , 93417340 , 1276 , 21442501 , 875130 , 53594 , 63901 , 562178 , 6281972 , 4973264 , 2949824 , 3595528 , 44797 , 1397583 , 24929 , 37634874 , 1166042 , 908321 , 11731 , 1350283 , 12704471 , 7640209 , 50912337 , 1183040 , 421225 , 20023 , 3881 , 54958 , 1380585 , 561995 , 23188944 , 188528 , 201143 , 70012256 , 860317 , 455499 , 2521571 , 800831 , 30406702 , 197833 , 8811379 , 119410 , 16925 , 8115 , 63317 , 872352 , 84205 , 18954 , 12604991 , 1527142 , 564934 , 11679782 , 53485 , 548345 , 22453 , 83106 , 83097 , 3640018 , 582424 , 227722 , 53548 , 2784952 , 10485 , 84207 , 6584744 , 1753932 , 34636 , 75854677 , 9328 , 10911936 , 22833616 , 53524 , 902975 , 48248 , 4434292 , 106678 , 3520010 , 53585 , 38833952 , 2521493 , 876249 , 565600 , 11951008 , 26702792 , 890224 , 119745 , 9617803 , 32117244 , 2520462 , 14841 , 1527547 , 891133 , 34180 , 8254405 , 6508662 , 557978 , 971948 , 9650080 , 880236 , 18876 , 557940 , 885275 , 9014 , 2256644 , 5535557 , 874614 , 53507 , 53564 , 1431219 , 526033 , 63217356 , 6877 , 87373001 , 22687451 , 20523 , 1396 , 1150139 , 23579235 , 14909488 , 34075 , 6147 , 53492 , 68513 , 34190 , 2130239 , 2685210 , 2523503 , 564915 , 34180 , 1160410 , 1500975 , 90722998 , 83030 , 44787 , 13304275 , 16642 , 10259148 , 10359 , 63911 , 23739 , 34643 , 2523545 , 11764315 , 20791 , 27088 , 83021 , 32943086 , 1167479 , 34465 , 189121 , 3128 , 2523545 , 792109 , 14642 , 1155001 , 12475466 , 4928289 , 10384 , 6940487 , 6887 , 4516978 , 470840 , 1898318 , 34180 , 185234 , 4658836 , 28577 , 83982005 , 795817 , 2533867 , 977302 , 67319538 , 13819 , 26722 , 108767 , 1688 , 53541 , 966254 , 5576207 , 15940 , 37838714 , 565108 , 1464970 , 27270 , 68521 , 1584249 , 565589 , 95294798 , 880237 , 901190 , 1194524 , 863814 , 15320 , 1060627 , 692263 , 53587 , 9827114 , 9748353 , 2523369 , 525025 , 2521440 , 517066 , 9043156 , 863741 , 2522203 , 1768291 , 4668193 , 22735626 , 900038 , 27903 , 1166039 , 32469660 , 8082456 , 12630415 , 1382096 , 7874313 , 4956292 , 670 , 22141 , 15059604 , 3354072 , 1730321 , 106653 , 1808319 , 2858386 , 1343407 , 12425295 , 874616 , 63341 , 54841885 , 20006165 , 7561 , 2759576 , 1167478 , 14642 , 65167 , 19884 , 896751 , 227721 , 13375 , 4966 , 63307 , 15525855 , 84207 , 6584744 , 1375148 , 19718 , 10084602 , 1276 , 220724 , 19291630 , 3554900 , 14503 , 3024999 , 197623 , 1542774 , 1185965 , 1503839 , 1639950 , 1169529 , 564940 , 1542908 , 4423889 , 81751 , 6339882 , 7449478 , 1150145 , 17107 , 109408 , 1221409 , 877037 , 25780 , 35079003 , 5335076 , 3159995 , 788721 , 1498786 , 562022 , 106612 , 576561 , 34211 , 517851 , 4730712 , 74291222 , 83045 , 16602663 , 1545268 , 201187 , 3066068 , 65251 , 81754 , 11299839 , 8977982 , 562166 , 895155 , 34206 , 83058 , 92922922 , 84110 , 662582 , 1507997 , 1768291 , 1632383 , 2759576 , 974948 , 8235 , 2521679 , 12067380 , 2202884 , 562436 , 63330 , 3889148 , 984028 , 13770 , 36918683 , 1089303 , 21583 , 525529 , 68526 , 19268469 , 11232444 , 3529708 , 3050167 , 44563035 , 2540231 , 1517293 , 2685852 , 20522 , 419159 , 13215 , 44839 , 565298 , 1382422 , 7428650 , 72626662 , 53595 , 877031 , 2631438 , 891693 , 19460 , 11627 , 20509 , 517088 , 1558877 , 1171 , 25416 , 70007863 , 5638495 , 895405 , 25416 , 40732680 , 92092708 , 12265 , 6671 , 1121756 , 4013102 , 2521747 , 2520450 , 184557 , 2529 , 26958 , 863813 , 972837 , 6224549 , 1062936 , 1542870 , 1383390 , 35360494 , 565106 , 44867 , 3414209 , 1144537 , 83157 , 1190842 , 874178 , 60006425 , 44841 , 44795 , 19247 , 565649 , 186138 , 24931 , 562421 , 1382100 , 909202 , 849 , 3640018 , 1122113 , 11256398 , 73212200 , 565618 , 565629 , 2523424 , 48213 , 18868 , 44757 , 565252 , 565465 , 17725 , 1169651 , 27722 , 2523380 , 892051 , 1723407 , 15135601 , 83070 , 18740615 , 55603346 , 2499405 , 970886 , 1498336 , 421225 , 8090818 , 3281348 , 5111798 , 1631556 , 1154989 , 3703 , 9677701 , 182239 , 2759576 , 16406 , 1300 , 1768306 , 903608 , 24340598 , 6617 , 4434391 , 39204752 , 558012 , 2535864 , 34817 , 185174 , 1214443 , 1383410 , 562428 , 48220 , 9282 , 26025 , 2523704 , 8171413 , 48241 , 1556433 , 1383656 , 10361 , 1489601 , 13375213 , 584868 , 891396 , 2522210 , 562008 , 1383519 , 558201 , 34366332 , 1385663 , 84207 , 6584744 , 8729648 , 53523 , 78081532 , 526650 , 89591016 , 22617261 , 1431221 , 12151 , 565256 , 565308 , 903610 , 25924 , 374356 , 891391 , 2523430 , 525863 , 119402 , 8225452 , 12293520 , 22165022 , 578559 , 44827 , 565627 , 1545173 , 17964257 , 90741595 , 442901 , 18070 , 13172727 , 15438119 , 55049066 , 63883 , 16263394 , 486266 , 5294927 , 201207 , 574838 , 13340277 , 14926025 , 558173 , 1542901 , 1905 , 565631 , 2719 , 12389916 , 7395 , 517074 , 10535825 , 17256031 , 20030400 , 17331352 , 24509 , 44770 , 867220 , 2537661 , 16365 , 580521 , 14634 , 7145 , 6713 , 692248 , 3089296 , 2970708 , 8429 , 8089880 , 565690 , 108758 , 4294723 , 3399972 , 70047306 , 565308 , 25416 , 2226815 , 68426574 , 877033 , 901156 , 4152 , 2954754 , 4028607 , 19177 , 13263038 , 2774509 , 89168106 , 1451458 , 1276 , 53590 , 1107770 , 14897563 , 6887 , 1191399 , 44833 , 6985915 , 33633233 , 186278 , 526653 , 6492775 , 2523481 , 8045174 , 972836 , 19860784 , 16653666 , 44858 , 45826672 , 65299565 , 3748528 , 12604991 , 2523239 , 1276 , 24795 , 13064038 , 1383409 , 570981 , 10602 , 41517815 , 4161730 , 25039 , 3673058 , 789461 , 3584917 , 3146 , 9597111 , 1388103 , 3016441 , 18808 , 565533 , 1494645 , 19144123 , 564942 , 558353 , 3430899 , 4691747 , 912411 , 83097 , 565107 , 2520453 , 5535557 , 21735 , 892418 , 6642 , 2685231 , 4853104 , 37138932 , 70761772 , 562164 , 26021 , 9728131 , 582310 , 1080485 , 1157096 , 27420 , 2523565 , 53579 , 866123 , 23330 , 1337 , 7831081 , 1000282 , 10992704 , 14768 , 430292 , 11262 , 2521444 , 190383 , 1393936 , 5583 , 10474 ) and rating >= 1 and ujv_api.expedia_content_main.is_active = 1 and ujv_api.mapper_expedia_giatas.expedia_id is not null limit 253 offset 0
		");

        $this->info('querySearchMain1: ' . $this->executionTime('start') . ' sec');


        $querySearchMain1 = DB::select("
			select count( expedia_id ) as aggregate from ujv_api.expedia_content_main left join ujv_api.expedia_content_slave on ujv_api.expedia_content_slave.expedia_property_id = ujv_api.expedia_content_main.property_id left join ujv_api.mapper_expedia_giatas on ujv_api.mapper_expedia_giatas.expedia_id = ujv_api.expedia_content_main.property_id where property_id in ( 888905 , 201087 , 185154 , 44828 , 414605 , 909199 , 12151 , 17324302 , 22663501 , 1169045 , 6528818 , 16344076 , 789751 , 25532 , 25416 , 17234 , 421225 , 48246 , 53593 , 1545249 , 2692721 , 994215 , 53589 , 29464319 , 11764176 , 3006128 , 919451 , 2523434 , 12049 , 26733 , 27958 , 8199002 , 89427194 , 2803985 , 11735534 , 21333453 , 7880931 , 70501138 , 973844 , 1449465 , 1328683 , 1144598 , 561982 , 1172208 , 4460443 , 1244 , 1601059 , 11763601 , 3634265 , 1889 , 56560263 , 17683982 , 13442171 , 1166036 , 967265 , 2522122 , 70501138 , 1520444 , 564911 , 14832 , 329954 , 24011 , 561983 , 44711 , 1150135 , 8090711 , 891407 , 63898 , 3124202 , 7132 , 18581 , 90741595 , 84207 , 6584744 , 1091701 , 889190 , 3673089 , 6452041 , 1431219 , 10516568 , 4955841 , 7153677 , 1829056 , 4460443 , 20051 , 1446012 , 1468 , 564950 , 22785026 , 5951861 , 74817857 , 1375688 , 89589494 , 53566 , 558097 , 564956 , 24759 , 20931 , 106606 , 1169199 , 90741595 , 25416 , 994347 , 6422260 , 11254 , 4058160 , 15814 , 525529 , 2523917 , 39815044 , 5494690 , 23810 , 12567062 , 908689 , 8089748 , 809361 , 565104 , 10992704 , 16116822 , 3111786 , 5259220 , 565643 , 2689021 , 2546603 , 564481 , 23065994 , 1140512 , 21972 , 6116 , 486277 , 15148116 , 44857 , 15969 , 1383362 , 48247 , 6901 , 22647935 , 4456196 , 53524 , 63340 , 81652 , 2628 , 1169529 , 564940 , 63326 , 26885302 , 27154 , 10872 , 562005 , 81753 , 565297 , 12717 , 119356 , 17013 , 2522199 , 2685881 , 1451463 , 12066993 , 1248348 , 9827286 , 66179152 , 1453644 , 1498511 , 75226799 , 14777624 , 859852 , 5924800 , 517154 , 74262305 , 76837559 , 26415 , 1214772 , 24549 , 3124204 , 11096 , 1350813 , 83096 , 919451 , 1133688 , 12429565 , 1144564 , 16061517 , 4478908 , 10625 , 17710418 , 1062907 , 1249 , 22785 , 53583 , 1276 , 560198 , 560199 , 115063 , 14862 , 565710 , 1495154 , 119376 , 34180 , 562003 , 7614251 , 5055735 , 44833 , 525040 , 4478950 , 26651 , 83104 , 90885959 , 31804333 , 6309224 , 19074687 , 4479 , 822 , 1637283 , 1411864 , 2855106 , 447033 , 1184089 , 12772532 , 4267496 , 522821 , 53524 , 1367360 , 11467594 , 197550 , 20955 , 18663 , 17038 , 8103630 , 2685982 , 2523309 , 1166020 , 3644167 , 69359050 , 526635 , 1273955 , 903609 , 2105 , 15805325 , 564924 , 1103801 , 5688320 , 1769077 , 8290864 , 22772 , 1072848 , 457360 , 44843 , 19682 , 19614 , 12835 , 517063 , 1601061 , 2690948 , 1190989 , 891932 , 447017 , 84209 , 562423 , 2522139 , 18083172 , 565554 , 14630329 , 898175 , 573476 , 44849 , 67430998 , 414462 , 11620624 , 1177541 , 1082336 , 21313353 , 1768291 , 2824859 , 4916865 , 9718872 , 83103 , 556455 , 1542875 , 1062937 , 6544282 , 5535557 , 3389 , 901201 , 1150160 , 421225 , 11730 , 578608 , 53572 , 913994 , 15486 , 64926 , 27541871 , 661848 , 2156323 , 12067080 , 33676209 , 4130483 , 27977 , 2685880 , 6417623 , 11097025 , 1542853 , 18784 , 14763306 , 74422006 , 42630812 , 58919400 , 3137 , 53535 , 11906978 , 419165 , 27528 , 34071 , 870400 , 83107 , 2580 , 9541968 , 6914689 , 11772 , 188482 , 6887 , 7439856 , 1223409 , 27375 , 125775 , 1200027 , 14788 , 18558 , 1545283 , 909876 , 1382123 , 2432894 , 9541968 , 441665 , 8164964 , 561997 , 92811161 , 3309 , 15775 , 20141640 , 184557 , 7714547 , 44807 , 15611 , 433421 , 565646 , 2905 , 1431219 , 16116921 , 1417342 , 564932 , 7552 , 23034 , 70983647 , 1723407 , 1471851 , 1876538 , 24786 , 15386089 , 1500975 , 1603419 , 2431617 , 17792066 , 1098400 , 1273946 , 525269 , 2522171 , 4289 , 2687249 , 7132 , 12552752 , 10467343 , 9619719 , 1166024 , 53484 , 83097 , 1712688 , 63912 , 562186 , 16586758 , 4620965 , 3644034 , 12683 , 7579402 , 17234 , 106681 , 53561 , 907913 , 63308 , 12877 , 48251 , 526631 , 107886 , 18023637 , 1867016 , 874615 , 182182 , 15637 , 565590 , 22632950 , 2521505 , 18538371 , 8263353 , 83098 , 1169595 , 19747 , 1872 , 1500975 , 7451497 , 82954447 , 2687369 , 14738 , 1194 , 560207 , 10992704 , 13188 , 53598 , 5096 , 565122 , 691190 , 25416 , 189601 , 2369616 , 83095 , 1159701 , 92811161 , 884901 , 1276 , 1362 , 14770965 , 10369036 , 15233206 , 916831 , 5205825 , 70501138 , 562002 , 1450480 , 615332 , 90741595 , 17754301 , 1117 , 25416 , 83643951 , 53532 , 891933 , 26761 , 2707145 , 25554 , 16973 , 564660 , 993018 , 9621556 , 2784952 , 1308259 , 1312493 , 44850 , 8539 , 6066034 , 558560 , 27241 , 3952880 , 92811161 , 2279585 , 893975 , 1160407 , 10116304 , 1880326 , 14771489 , 8745 , 562175 , 17016 , 4208542 , 4668621 , 901150 , 44738 , 1390 , 1396 , 15333594 , 10938 , 13246 , 12604991 , 2523402 , 36307388 , 8108005 , 23089229 , 37025921 , 112247 , 3050968 , 11996771 , 53580 , 901149 , 2686010 , 26587037 , 2520459 , 1339863 , 2883291 , 970888 , 1064534 , 5251 , 83022 , 16047 , 9269598 , 970936 , 63305 , 1221314 , 889936 , 13330374 , 106600 , 12508516 , 565694 , 71593758 , 5806325 , 565621 , 11742555 , 119448 , 565119 , 564892 , 15030 , 83134 , 110086 , 794330 , 16363263 , 184548 , 83126 , 36172804 , 906106 , 34787606 , 2010815 , 1000780 , 8013591 , 81702 , 11247 , 1583157 , 2499092 , 4817101 , 14642 , 53487 , 19884 , 14770827 , 1042503 , 13006 , 5813590 , 1542902 , 891394 , 8444782 , 1382392 , 16280516 , 2499092 , 34186 , 18032318 , 561980 , 2784952 , 890094 , 64872 , 1086808 , 68493 , 3657327 , 565113 , 425236 , 53525 , 63881 , 562024 , 22647935 , 565256 , 13182 , 15510797 , 189675 , 1615638 , 5987457 , 1382404 , 899321 , 8965758 , 8571 , 34201 , 18642828 , 68512 , 973411 , 7510766 , 607137 , 8804655 , 796679 , 44864 , 174854 , 106604 , 562453 , 55603346 , 2523943 , 34212 , 788023 , 1853451 , 2543392 , 2784952 , 877036 , 28507 , 90301901 , 519445 , 174823 , 889136 , 57007492 , 7368 , 68490 , 4623089 , 106609 , 1150128 , 8151984 , 891081 , 526523 , 526642 , 2933817 , 1395216 , 560197 , 664709 , 562160 , 83058 , 455107 , 517050 , 4440053 , 548343 , 19155902 , 17375524 , 17402492 , 8931 , 562164 , 6716425 , 25416 , 1262 , 190484 , 2149087 , 11751238 , 25416 , 4274800 , 910926 , 1144544 , 6318066 , 565308 , 447028 , 84206 , 89993005 , 1101875 , 897206 , 83102 , 1586751 , 421225 , 38705288 , 20495 , 6468130 , 565110 , 23124 , 1178071 , 63879 , 421225 , 68517 , 13101729 , 564952 , 28825369 , 2007700 , 34484 , 1226699 , 201121 , 1568520 , 41913079 , 1166023 , 1214772 , 12740005 , 522512 , 175063 , 22909 , 90741595 , 2523435 , 26887 , 106607 , 74120228 , 517064 , 4562778 , 18172870 , 8254395 , 864201 , 1251788 , 470866 , 565561 , 10369462 , 16599855 , 1314926 , 48211 , 4140609 , 1500975 , 1845330 , 12815755 , 564940 , 5464 , 2002 , 1405292 , 888903 , 2523311 , 564940 , 8972 , 2522174 , 8842016 , 1603416 , 62984874 , 1171303 , 2571854 , 53483 , 53555 , 53586 , 115052 , 12151 , 564940 , 2534803 , 1486880 , 565256 , 83141 , 54961 , 22470 , 79393779 , 39186206 , 5816 , 564940 , 564947 , 20073 , 10741 , 1542855 , 19631718 , 49327 , 11741259 , 7673 , 2241 , 2523066 , 1337848 , 1431219 , 6456398 , 22944432 , 1191399 , 11749 , 525824 , 906254 , 24295324 , 25260 , 20069 , 1489 , 2193319 , 25168 , 1446012 , 92811161 , 45586214 , 11736430 , 11958844 , 1144600 , 1133645 , 8225442 , 866446 , 4096 , 18258099 , 11837701 , 2179 , 2523426 , 83410266 , 1190989 , 1382741 , 12604991 , 1916079 , 14771449 , 115029 , 7382160 , 190461 , 14721 , 44847 , 83041 , 565628 , 1285 , 74092581 , 1753858 , 564897 , 558011 , 1838960 , 63336 , 1160380 , 12898 , 2521624 , 1382488 , 1840967 , 915692 , 564940 , 1304233 , 6454 , 44729 , 14807 , 22724 , 9972 , 3030694 , 8408667 , 8240437 , 19489 , 20248319 , 2523701 , 115101 , 82521939 , 1368 , 797166 , 6230998 , 8364073 , 894743 , 25416 , 2185160 , 558425 , 981059 , 106605 , 65171 , 14115 , 12679 , 1609499 , 659925 , 4327633 , 83029 , 1107461 , 11355 , 7621130 , 2535479 , 2499092 , 68523 , 20697 , 66157 , 11740677 , 3743565 , 53581 , 11959576 , 2523375 , 40445218 , 17710635 , 880235 , 63906 , 565591 , 1276 , 1314918 , 26587037 , 562165 , 868 , 95773568 , 874322 , 34218 , 894821 , 688194 , 582844 , 4086 , 1301 , 565300 , 1390 , 1396 , 11500287 , 1382678 , 3547614 , 1150136 , 9732 , 562399 , 891651 , 419149 , 2539588 , 53512 , 13505949 , 14582 , 42693045 , 15606948 , 11465813 , 13538 , 10040266 , 11763129 , 189871 , 53556 , 2522237 , 25530 , 565250 , 33718890 , 64994 , 981058 , 5278 , 3117356 , 14820301 , 27836753 , 1399823 , 17471679 , 1633756 , 574840 , 11265 , 2172825 , 1682992 , 1387065 , 65168 , 7526 , 1431219 , 13700 , 6436774 , 15787 , 5195936 , 848390 , 1431219 , 1276 , 58323249 , 221325 , 552203 , 10640 , 66022815 , 5293507 , 11677 , 1431219 , 4655347 , 8250159 , 525086 , 10680 , 83410266 , 2521578 , 44712 , 3077453 , 526523 , 64872 , 17333 , 48527358 , 93417340 , 1276 , 21442501 , 875130 , 53594 , 63901 , 562178 , 6281972 , 4973264 , 2949824 , 3595528 , 44797 , 1397583 , 24929 , 37634874 , 1166042 , 908321 , 11731 , 1350283 , 12704471 , 7640209 , 50912337 , 1183040 , 421225 , 20023 , 3881 , 54958 , 1380585 , 561995 , 23188944 , 188528 , 201143 , 70012256 , 860317 , 455499 , 2521571 , 800831 , 30406702 , 197833 , 8811379 , 119410 , 16925 , 8115 , 63317 , 872352 , 84205 , 18954 , 12604991 , 1527142 , 564934 , 11679782 , 53485 , 548345 , 22453 , 83106 , 83097 , 3640018 , 582424 , 227722 , 53548 , 2784952 , 10485 , 84207 , 6584744 , 1753932 , 34636 , 75854677 , 9328 , 10911936 , 22833616 , 53524 , 902975 , 48248 , 4434292 , 106678 , 3520010 , 53585 , 38833952 , 2521493 , 876249 , 565600 , 11951008 , 26702792 , 890224 , 119745 , 9617803 , 32117244 , 2520462 , 14841 , 1527547 , 891133 , 34180 , 8254405 , 6508662 , 557978 , 971948 , 9650080 , 880236 , 18876 , 557940 , 885275 , 9014 , 2256644 , 5535557 , 874614 , 53507 , 53564 , 1431219 , 526033 , 63217356 , 6877 , 87373001 , 22687451 , 20523 , 1396 , 1150139 , 23579235 , 14909488 , 34075 , 6147 , 53492 , 68513 , 34190 , 2130239 , 2685210 , 2523503 , 564915 , 34180 , 1160410 , 1500975 , 90722998 , 83030 , 44787 , 13304275 , 16642 , 10259148 , 10359 , 63911 , 23739 , 34643 , 2523545 , 11764315 , 20791 , 27088 , 83021 , 32943086 , 1167479 , 34465 , 189121 , 3128 , 2523545 , 792109 , 14642 , 1155001 , 12475466 , 4928289 , 10384 , 6940487 , 6887 , 4516978 , 470840 , 1898318 , 34180 , 185234 , 4658836 , 28577 , 83982005 , 795817 , 2533867 , 977302 , 67319538 , 13819 , 26722 , 108767 , 1688 , 53541 , 966254 , 5576207 , 15940 , 37838714 , 565108 , 1464970 , 27270 , 68521 , 1584249 , 565589 , 95294798 , 880237 , 901190 , 1194524 , 863814 , 15320 , 1060627 , 692263 , 53587 , 9827114 , 9748353 , 2523369 , 525025 , 2521440 , 517066 , 9043156 , 863741 , 2522203 , 1768291 , 4668193 , 22735626 , 900038 , 27903 , 1166039 , 32469660 , 8082456 , 12630415 , 1382096 , 7874313 , 4956292 , 670 , 22141 , 15059604 , 3354072 , 1730321 , 106653 , 1808319 , 2858386 , 1343407 , 12425295 , 874616 , 63341 , 54841885 , 20006165 , 7561 , 2759576 , 1167478 , 14642 , 65167 , 19884 , 896751 , 227721 , 13375 , 4966 , 63307 , 15525855 , 84207 , 6584744 , 1375148 , 19718 , 10084602 , 1276 , 220724 , 19291630 , 3554900 , 14503 , 3024999 , 197623 , 1542774 , 1185965 , 1503839 , 1639950 , 1169529 , 564940 , 1542908 , 4423889 , 81751 , 6339882 , 7449478 , 1150145 , 17107 , 109408 , 1221409 , 877037 , 25780 , 35079003 , 5335076 , 3159995 , 788721 , 1498786 , 562022 , 106612 , 576561 , 34211 , 517851 , 4730712 , 74291222 , 83045 , 16602663 , 1545268 , 201187 , 3066068 , 65251 , 81754 , 11299839 , 8977982 , 562166 , 895155 , 34206 , 83058 , 92922922 , 84110 , 662582 , 1507997 , 1768291 , 1632383 , 2759576 , 974948 , 8235 , 2521679 , 12067380 , 2202884 , 562436 , 63330 , 3889148 , 984028 , 13770 , 36918683 , 1089303 , 21583 , 525529 , 68526 , 19268469 , 11232444 , 3529708 , 3050167 , 44563035 , 2540231 , 1517293 , 2685852 , 20522 , 419159 , 13215 , 44839 , 565298 , 1382422 , 7428650 , 72626662 , 53595 , 877031 , 2631438 , 891693 , 19460 , 11627 , 20509 , 517088 , 1558877 , 1171 , 25416 , 70007863 , 5638495 , 895405 , 25416 , 40732680 , 92092708 , 12265 , 6671 , 1121756 , 4013102 , 2521747 , 2520450 , 184557 , 2529 , 26958 , 863813 , 972837 , 6224549 , 1062936 , 1542870 , 1383390 , 35360494 , 565106 , 44867 , 3414209 , 1144537 , 83157 , 1190842 , 874178 , 60006425 , 44841 , 44795 , 19247 , 565649 , 186138 , 24931 , 562421 , 1382100 , 909202 , 849 , 3640018 , 1122113 , 11256398 , 73212200 , 565618 , 565629 , 2523424 , 48213 , 18868 , 44757 , 565252 , 565465 , 17725 , 1169651 , 27722 , 2523380 , 892051 , 1723407 , 15135601 , 83070 , 18740615 , 55603346 , 2499405 , 970886 , 1498336 , 421225 , 8090818 , 3281348 , 5111798 , 1631556 , 1154989 , 3703 , 9677701 , 182239 , 2759576 , 16406 , 1300 , 1768306 , 903608 , 24340598 , 6617 , 4434391 , 39204752 , 558012 , 2535864 , 34817 , 185174 , 1214443 , 1383410 , 562428 , 48220 , 9282 , 26025 , 2523704 , 8171413 , 48241 , 1556433 , 1383656 , 10361 , 1489601 , 13375213 , 584868 , 891396 , 2522210 , 562008 , 1383519 , 558201 , 34366332 , 1385663 , 84207 , 6584744 , 8729648 , 53523 , 78081532 , 526650 , 89591016 , 22617261 , 1431221 , 12151 , 565256 , 565308 , 903610 , 25924 , 374356 , 891391 , 2523430 , 525863 , 119402 , 8225452 , 12293520 , 22165022 , 578559 , 44827 , 565627 , 1545173 , 17964257 , 90741595 , 442901 , 18070 , 13172727 , 15438119 , 55049066 , 63883 , 16263394 , 486266 , 5294927 , 201207 , 574838 , 13340277 , 14926025 , 558173 , 1542901 , 1905 , 565631 , 2719 , 12389916 , 7395 , 517074 , 10535825 , 17256031 , 20030400 , 17331352 , 24509 , 44770 , 867220 , 2537661 , 16365 , 580521 , 14634 , 7145 , 6713 , 692248 , 3089296 , 2970708 , 8429 , 8089880 , 565690 , 108758 , 4294723 , 3399972 , 70047306 , 565308 , 25416 , 2226815 , 68426574 , 877033 , 901156 , 4152 , 2954754 , 4028607 , 19177 , 13263038 , 2774509 , 89168106 , 1451458 , 1276 , 53590 , 1107770 , 14897563 , 6887 , 1191399 , 44833 , 6985915 , 33633233 , 186278 , 526653 , 6492775 , 2523481 , 8045174 , 972836 , 19860784 , 16653666 , 44858 , 45826672 , 65299565 , 3748528 , 12604991 , 2523239 , 1276 , 24795 , 13064038 , 1383409 , 570981 , 10602 , 41517815 , 4161730 , 25039 , 3673058 , 789461 , 3584917 , 3146 , 9597111 , 1388103 , 3016441 , 18808 , 565533 , 1494645 , 19144123 , 564942 , 558353 , 3430899 , 4691747 , 912411 , 83097 , 565107 , 2520453 , 5535557 , 21735 , 892418 , 6642 , 2685231 , 4853104 , 37138932 , 70761772 , 562164 , 26021 , 9728131 , 582310 , 1080485 , 1157096 , 27420 , 2523565 , 53579 , 866123 , 23330 , 1337 , 7831081 , 1000282 , 10992704 , 14768 , 430292 , 11262 , 2521444 , 190383 , 1393936 , 5583 , 10474 ) and rating >= 1 and ujv_api.expedia_content_main.is_active = 1 and ujv_api.mapper_expedia_giatas.expedia_id is not null
		");

        $this->info('querySearchMain2: ' . $this->executionTime('start') . ' sec');

        $querySearchMain3 = DB::select("
			select ujv_api.mapper_expedia_giatas.expedia_id from ujv_api.giata_properties left join ujv_api.mapper_expedia_giatas on ujv_api.mapper_expedia_giatas.giata_id = ujv_api.giata_properties.code where city_id = '93' and ujv_api.mapper_expedia_giatas.expedia_id is not null
		");

        $this->info('querySearchMain3: ' . $this->executionTime('start') . ' sec');
        $this->info('query for Search endpoit as mative query:  ' . $this->executionTime('main-search') . ' sec');

        $destination = [961, 302, 93, 960, 1102];
        $ratings = [3, 3.5, 4, 4.5, 5];
        $request = [
            "type" => "hotel",
            "destination" => $destination[array_rand($destination)],
            "rating" => $ratings[array_rand($ratings)],
            "page" => 1,
            "results_per_page" => 250,
        ];

        $querySearchMain = (new ExpediaHotelController())->preSearchData($request);
        $this->info("query for Search endpoit as ORM & methods: " . $this->executionTime("start") . " sec" . ' count: ' . $querySearchMain['count']);

        $this->info("querySearchMain request: " . json_encode($request));

    }

}
